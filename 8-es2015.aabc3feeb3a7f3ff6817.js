(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XZo9:function(e,t,a){"use strict";a.r(t),a.d(t,"PerfilModule",(function(){return He}));var n=a("2kYt"),r=a("PCNd"),i=a("hctd"),s=a("sEIs"),c=a("ZTXN"),o=a("pKmL"),l=a("EM62"),m=a("s2Ay"),b=a("cz58"),u=a("KZIX"),p=a("R7+U"),d=a("mFH5");function g(e,t){if(1&e&&(l.Sb(0,"a",8,9),l.Bc(2),l.ec(3,"translate"),l.Rb()),2&e){const e=t.$implicit,a=l.oc(1);l.jc("routerLink",e.link)("active",a.isActive)("disabled",e.auth),l.Ab(2),l.Dc(" ",l.fc(3,4,e.label)," ")}}function f(e,t){if(1&e&&(l.Sb(0,"mat-option",10),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=t.$implicit;l.jc("value",e)("routerLink",e.link)("disabled",e.auth),l.Ab(1),l.Dc(" ",l.fc(2,4,e.label)," ")}}let h=(()=>{class e{constructor(e,t){this.translateService=e,this.authManagementService=t,this.destroy$=new c.a,this.tabs=[]}ngOnInit(){this.tabs=[{link:"datos",label:"aula-planeta.perfil.menu.datos",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"tutores",label:"aula-planeta.perfil.menu.tutores",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"contrasena",label:"aula-planeta.perfil.menu.contrasena",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"activacion",label:"aula-planeta.perfil.menu.activacion",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"vincular",label:"aula-planeta.perfil.menu.vincular",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"users",label:"aula-planeta.perfil.menu.users",auth:!this.authManagementService.userCan(["ADMIN_ROLE"])},{link:"settings",label:"aula-planeta.perfil.menu.settings",auth:!this.authManagementService.userCan(["ADMIN_ROLE"])}]}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(m.d),l.Mb(o.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-perfil"]],decls:13,vars:10,consts:[[1,"mt-3","ml-3"],["rtl","",1,"main-heading"],["mat-tab-nav-bar","","role","tab",1,"d-none","d-sm-flex"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","disabled",4,"ngFor","ngForOf"],["role","navigation",1,"nav-responsive","d-sm-none","d-flex","justify-content-center"],["panelClass","cdkSelect",3,"placeholder","value"],[3,"value","routerLink","disabled",4,"ngFor","ngForOf"],["o","outlet"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","disabled"],["rla","routerLinkActive"],[3,"value","routerLink","disabled"]],template:function(e,t){if(1&e&&(l.Sb(0,"div",0),l.Sb(1,"h1",1),l.Bc(2),l.ec(3,"translate"),l.Rb(),l.Sb(4,"nav",2),l.Ac(5,g,4,6,"a",3),l.Rb(),l.Sb(6,"nav",4),l.Sb(7,"mat-select",5),l.ec(8,"translate"),l.Ac(9,f,3,6,"mat-option",6),l.Rb(),l.Rb(),l.Sb(10,"div"),l.Nb(11,"router-outlet",null,7),l.Rb(),l.Rb()),2&e){const e=l.oc(12);l.Ab(2),l.Dc(" ",l.fc(3,6,"aula-planeta.menu.mi-perfil"),""),l.Ab(3),l.jc("ngForOf",t.tabs),l.Ab(2),l.jc("placeholder",l.fc(8,8,"aula-planeta.perfil.title"))("value","datos"),l.Ab(2),l.jc("ngForOf",t.tabs),l.Ab(1),l.jc("@routeAnimations",e.isActivated&&e.activatedRoute.routeConfig.path)}},directives:[b.a,u.b,n.j,p.a,s.l,s.j,u.a,s.i,d.l,s.h],pipes:[m.c],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1.25em}nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:7.5em;padding:0 .9375em}@media (max-width:768px){nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:0}}"],data:{animation:[o.e]},changeDetection:0}),e})();var v=a("nIj0"),S=a("jIqt"),A=a("YtkY"),R=a("C05f"),O=a("J+dc"),y=a("kuMc"),M=a("AytR"),C=a("rB37"),j=a("vobO");let P=(()=>{class e{constructor(e,t){this.http=e,this.cache=t}getUsers(){let e=this.http.get(M.a.apiUrl+"/users");return this.cache.observable("USERDATASERVICE-GETUSERS",e)}createUser(e){return this.http.post(M.a.apiUrl+"/users/register",e)}updateUser(e){return this.http.put(`${M.a.apiUrl}/users/${e.uuid}`,e)}updateTutorUser(e,t){return this.http.put(`${M.a.apiUrl}/users/tutor/${e.uuid}`,e)}deleteUser(e){return this.http.delete(`${M.a.apiUrl}/users/${e.uuid}`)}uploadImgUser(e,t){const a=new FormData;return a.append("imagen",t),this.http.put(`${M.a.apiUrl}/upload/user/${e.uuid}`,a)}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(j.b),l.Wb(C.a))},e.\u0275prov=l.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w=(()=>{class e{constructor(e){this.userDataService=e,this.destroy$=new c.a,this._users=new R.a([]),this.users$=this._users.asObservable(),this.getUsers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get users(){return this._users.getValue()}getUsers(){this.userDataService.getUsers().pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(e=>{this.usersNext(e.users)})}createUser(e){this.userDataService.createUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(()=>{this.getUsers()})}updateUser(e){return this.userDataService.updateUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$),Object(A.a)(()=>{this.getUsers()}))}updateTutorUser(e,t){return this.userDataService.updateTutorUser(e,t).pipe(Object(O.a)(1),Object(y.a)(this.destroy$),Object(A.a)(()=>{this.getUsers()}))}uploadImgUser(e,t){return this.userDataService.uploadImgUser(e,t).pipe(Object(O.a)(1),Object(y.a)(this.destroy$))}deleteUser(e){this.userDataService.deleteUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(()=>{this.getUsers()})}usersNext(e){this._users.next(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(P))},e.\u0275prov=l.Ib({token:e,factory:e.\u0275fac}),e})();var x=a("mQTi");let D=(()=>{class e{constructor(e,t,a){this.templateRef=e,this.viewContainer=t,this.authManagementService=a,this.privileges=[],this.logicalOperation="OR",this.isHidden=!0,this.destroy$=new c.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.authManagementService.currentUser$.pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(e=>{this.currentUser=e,this.updateView()})}set hasPermission(e){this.privileges=e,this.updateView()}set hasPermissionOperation(e){this.logicalOperation=e,this.updateView()}updateView(){this.checkPermission()?this.isHidden&&(this.viewContainer.createEmbeddedView(this.templateRef),this.isHidden=!1):(this.isHidden=!0,this.viewContainer.clear())}checkPermission(){let e=!1;if(this.currentUser&&this.currentUser.role&&this.currentUser.role.length)for(const t of this.privileges)if(this.authManagementService.userCan([t])){if(e=!0,"OR"===this.logicalOperation)break}else if(e=!1,"AND"===this.logicalOperation)break;return e}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(l.M),l.Mb(l.Q),l.Mb(x.a))},e.\u0275dir=l.Hb({type:e,selectors:[["","hasPermission",""]],inputs:{hasPermission:"hasPermission",hasPermissionOperation:"hasPermissionOperation"}}),e})();var N=a("Meci"),k=a("PBFl"),I=a("29Wa"),_=a("Cd2c");function B(e,t){if(1&e){const e=l.Tb();l.Sb(0,"button",12),l.Zb("click",(function(){l.rc(e);const t=l.dc().$implicit;return l.dc(2).editUser(t)})),l.Bc(1),l.ec(2,"translate"),l.Rb()}2&e&&(l.Ab(1),l.Cc(l.fc(2,1,"aula-planeta.examples.crud.tooltip.edit")))}function E(e,t){if(1&e){const e=l.Tb();l.Sb(0,"button",12),l.Zb("click",(function(){l.rc(e);const t=l.dc().$implicit;return l.dc(2).deleteUser(t)})),l.Bc(1),l.ec(2,"translate"),l.Rb()}2&e&&(l.Ab(1),l.Cc(l.fc(2,1,"aula-planeta.examples.crud.title")))}const U=function(){return["PROFESOR_ROLE"]};function $(e,t){if(1&e&&(l.Sb(0,"mat-card",9),l.Sb(1,"mat-card-header"),l.Nb(2,"img",10),l.Sb(3,"mat-card-title"),l.Bc(4),l.Rb(),l.Sb(5,"mat-card-subtitle"),l.Bc(6),l.Rb(),l.Rb(),l.Sb(7,"mat-card-actions"),l.Ac(8,B,3,3,"button",11),l.Ac(9,E,3,3,"button",11),l.Rb(),l.Rb()),2&e){const e=t.$implicit,a=l.dc(2);l.jc("ngClass",a.routeAnimationsElements),l.Ab(2),l.jc("src",e.img,l.tc)("alt",e.email),l.Ab(2),l.Ec("",e.firstName," ",e.lastName,""),l.Ab(2),l.Cc(e.email),l.Ab(2),l.jc("hasPermission",l.kc(8,U)),l.Ab(1),l.jc("hasPermission",l.kc(9,U))}}function F(e,t){if(1&e&&(l.Qb(0,7),l.Ac(1,$,10,10,"mat-card",8),l.Pb()),2&e){const e=t.ngIf,a=l.dc();l.Ab(1),l.jc("ngForOf",e)("ngForTrackBy",a.trackByUserId)}}function q(e,t){1&e&&(l.Sb(0,"h2"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Cc(l.fc(2,1,"aula-planeta.examples.simple-state-management.form.add.title")))}function L(e,t){1&e&&(l.Sb(0,"h2"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Cc(l.fc(2,1,"aula-planeta.examples.simple-state-management.form.edit.title")))}const T=function(e){return{minlength:e}};function Z(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc(3);l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,T,e.userForm.get("email").errors.minlength.requiredLength))," ")}}function G(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function V(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc(3);l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,T,e.userForm.get("password").errors.minlength.requiredLength))," ")}}function z(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function H(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc(3);l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,T,e.userForm.get("firstName").errors.minlength.requiredLength))," ")}}function Q(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function K(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc(3);l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,T,e.userForm.get("lastName").errors.minlength.requiredLength))," ")}}function W(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function J(e,t){if(1&e&&(l.Sb(0,"mat-option",26),l.Bc(1),l.Rb()),2&e){const e=t.$implicit;l.jc("value",e._id),l.Ab(1),l.Cc(e.desc)}}function X(e,t){1&e&&(l.Sb(0,"button",27),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.form.add.submit")," "))}function Y(e,t){1&e&&(l.Sb(0,"button",27),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.form.edit.submit")," "))}function ee(e,t){if(1&e){const e=l.Tb();l.Qb(0),l.Ac(1,q,3,3,"h2",13),l.Ac(2,L,3,3,"h2",13),l.Sb(3,"form",14,15),l.Zb("ngSubmit",(function(){l.rc(e);const t=l.oc(4);return l.dc(2).onSubmit(t)})),l.Sb(5,"fieldset"),l.Sb(6,"mat-form-field"),l.Nb(7,"input",16),l.ec(8,"translate"),l.Ac(9,Z,3,6,"mat-error",13),l.Ac(10,G,3,3,"mat-error",13),l.Rb(),l.Sb(11,"mat-form-field"),l.Nb(12,"input",17),l.ec(13,"translate"),l.Ac(14,V,3,6,"mat-error",13),l.Ac(15,z,3,3,"mat-error",13),l.Rb(),l.Sb(16,"mat-form-field"),l.Nb(17,"input",18),l.ec(18,"translate"),l.Ac(19,H,3,6,"mat-error",13),l.Ac(20,Q,3,3,"mat-error",13),l.Rb(),l.Sb(21,"mat-form-field"),l.Nb(22,"input",19),l.ec(23,"translate"),l.Ac(24,K,3,6,"mat-error",13),l.Ac(25,W,3,3,"mat-error",13),l.Rb(),l.Sb(26,"mat-form-field",20),l.Sb(27,"mat-label",21),l.Bc(28,"Roles"),l.Rb(),l.Sb(29,"mat-select",22),l.Ac(30,J,2,2,"mat-option",23),l.ec(31,"async"),l.Rb(),l.Rb(),l.Sb(32,"div"),l.Ac(33,X,3,3,"button",24),l.Ac(34,Y,3,3,"button",24),l.Sb(35,"button",25),l.Bc(36),l.ec(37,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Pb()}if(2&e){const e=t.ngIf,a=l.dc(2);l.Ab(1),l.jc("ngIf",!e.value),l.Ab(1),l.jc("ngIf",e.value),l.Ab(1),l.jc("formGroup",a.userForm),l.Ab(4),l.jc("placeholder",l.fc(8,20,"aula-planeta.examples.simple-state-management.email")+"*"),l.Ab(2),l.jc("ngIf",a.userForm.get("email").hasError("minlength")),l.Ab(1),l.jc("ngIf",a.userForm.get("email").hasError("required")),l.Ab(2),l.jc("placeholder",l.fc(13,22,"aula-planeta.examples.simple-state-management.password")+"*")("readonly",e.value),l.Ab(2),l.jc("ngIf",a.userForm.get("password").hasError("minlength")),l.Ab(1),l.jc("ngIf",a.userForm.get("password").hasError("required")),l.Ab(2),l.jc("placeholder",l.fc(18,24,"aula-planeta.examples.simple-state-management.name")+"*"),l.Ab(2),l.jc("ngIf",a.userForm.get("firstName").hasError("minlength")),l.Ab(1),l.jc("ngIf",a.userForm.get("firstName").hasError("required")),l.Ab(2),l.jc("placeholder",l.fc(23,26,"aula-planeta.examples.simple-state-management.surname")+"*"),l.Ab(2),l.jc("ngIf",a.userForm.get("lastName").hasError("minlength")),l.Ab(1),l.jc("ngIf",a.userForm.get("lastName").hasError("required")),l.Ab(5),l.jc("ngForOf",l.fc(31,28,a.authManagementService.roles$)),l.Ab(3),l.jc("ngIf",!e.value),l.Ab(1),l.jc("ngIf",e.value),l.Ab(2),l.Cc(l.fc(37,30,"aula-planeta.examples.form.reset"))}}function te(e,t){if(1&e&&(l.Qb(0),l.Ac(1,ee,38,32,"ng-container",13),l.ec(2,"async"),l.Pb()),2&e){const e=l.dc();l.Ab(1),l.jc("ngIf",l.fc(2,1,e.isEdit$))}}let ae=(()=>{class e{constructor(e,t,a){this.userManagementService=e,this.fb=t,this.authManagementService=a,this.routeAnimationsElements=o.d}ngOnInit(){this.userForm=this.fb.group({uuid:"",email:["",[v.o.required,v.o.minLength(5)]],password:["",[v.o.required,v.o.minLength(5)]],firstName:["",[v.o.required,v.o.minLength(5)]],lastName:["",[v.o.required,v.o.minLength(5)]],role:[[],[v.o.required]]}),this.isEdit$=this.userForm.get("uuid").valueChanges.pipe(Object(S.a)(""),Object(A.a)(e=>({value:(e||"").length>0}))),this.userManagementService.getUsers()}deleteUser(e){this.userManagementService.deleteUser(e)}editUser(e){const t=e.role.map(e=>e._id);this.userForm.patchValue(Object.assign(Object.assign({},e),{role:t}))}onSubmit(e){if(this.userForm.valid){const t=this.userForm.getRawValue();t.uuid&&t.uuid.length?(delete t.password,this.userManagementService.updateUser(t).subscribe()):this.userManagementService.createUser(Object.assign({},t)),e.resetForm(),this.userForm.reset()}}trackByUserId(e,t){return t.uuid}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(w),l.Mb(v.c),l.Mb(o.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-user"]],decls:11,vars:9,consts:[[1,"container"],[1,"row"],[1,"offset-md-2","col-md-8"],["rtl","",1,"main-heading"],["rtl","",1,"row",3,"ngClass"],["role","list",4,"ngIf"],[4,"hasPermission"],["role","list"],["role","listitem",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem",3,"ngClass"],["role","img","aria-label","Avatar","mat-card-avatar","","crossorigin","anonymous","onerror","this.style.display='none'",3,"src","alt"],["role","button","mat-button","",3,"click",4,"hasPermission"],["role","button","mat-button","",3,"click"],[4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["userFormRef","ngForm"],["matInput","","formControlName","email",3,"placeholder"],["matInput","","type","password","formControlName","password",3,"placeholder","readonly"],["matInput","","formControlName","firstName",3,"placeholder"],["matInput","","formControlName","lastName",3,"placeholder"],[1,"w-100"],["aria-label","Roles"],["formControlName","role","multiple","","panelClass","cdkSelect"],[3,"value",4,"ngFor","ngForOf"],["role","button","type","submit","mat-raised-button","","color","primary",4,"ngIf"],["role","button","type","reset","mat-button","","color","warn"],[3,"value"],["role","button","type","submit","mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"h1",3),l.Bc(4),l.ec(5,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",4),l.Sb(7,"div",2),l.Ac(8,F,2,2,"ng-container",5),l.ec(9,"async"),l.Ac(10,te,3,3,"ng-container",6),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(4),l.Dc(" ",l.fc(5,4,"aula-planeta.perfil.menu.users")," "),l.Ab(2),l.jc("ngClass",t.routeAnimationsElements),l.Ab(2),l.jc("ngIf",l.fc(9,6,t.userManagementService.users$)),l.Ab(2),l.jc("hasPermission",l.kc(8,U)))},directives:[b.a,n.i,n.k,D,n.j,N.a,N.e,N.c,N.h,N.g,N.b,k.a,v.p,v.k,v.e,I.c,_.a,v.b,v.j,v.d,I.f,p.a,I.b,d.l],pipes:[m.c,n.b],styles:[".main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}"],changeDetection:0}),e})();var ne=a("NKdq"),re=a("bFHC"),ie=a("Pq5H"),se=a("k8N0"),ce=a("Y2X+");function oe(e,t){if(1&e&&(l.Sb(0,"mat-option",27),l.Bc(1),l.Rb()),2&e){const e=t.$implicit,a=l.dc().$implicit;l.jc("value",a.value)("title",e!==a.label?e:""),l.Ab(1),l.Dc(" ",a.label," ")}}const le=function(e){return[e]};function me(e,t){if(1&e&&(l.Qb(0),l.Ac(1,oe,2,3,"mat-option",26),l.ec(2,"translate"),l.Pb()),2&e){const e=t.$implicit;l.Ab(1),l.jc("ngForOf",l.lc(3,le,l.fc(2,1,"aula-planeta.settings.general.language."+e.value)))}}function be(e,t){if(1&e&&(l.Sb(0,"mat-option",28),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=t.$implicit;l.jc("value",e.value),l.Ab(1),l.Dc(" ",l.fc(2,2,"aula-planeta.settings.themes."+e.label)," ")}}function ue(e,t){1&e&&l.Nb(0,"mat-slide-toggle",29)}function pe(e,t){if(1&e){const e=l.Tb();l.Sb(0,"mat-slide-toggle",12),l.Zb("change",(function(t){return l.rc(e),l.dc(2).onPageAnimationsToggle(t)})),l.ec(1,"translate"),l.Rb()}if(2&e){const e=l.dc().ngIf;l.jc("aria-label",l.fc(1,2,"aula-planeta.settings.animations.page"))("checked",e.pageAnimations)}}function de(e,t){if(1&e){const e=l.Tb();l.Qb(0),l.Sb(1,"div",1),l.Sb(2,"div",4),l.Sb(3,"h2"),l.Bc(4),l.ec(5,"translate"),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"mat-icon",6),l.Nb(8,"fa-icon",7),l.Rb(),l.Sb(9,"mat-form-field"),l.Sb(10,"mat-select",8),l.Zb("selectionChange",(function(t){return l.rc(e),l.dc().onLanguageSelect(t)})),l.ec(11,"translate"),l.ec(12,"translate"),l.Ac(13,me,3,5,"ng-container",9),l.Rb(),l.Rb(),l.Rb(),l.Sb(14,"div",5),l.Sb(15,"mat-icon",10),l.Nb(16,"fa-icon",11),l.Rb(),l.Sb(17,"mat-placeholder"),l.Bc(18),l.ec(19,"translate"),l.Rb(),l.Sb(20,"mat-slide-toggle",12),l.Zb("change",(function(t){return l.rc(e),l.dc().onStickyHeaderToggle(t)})),l.ec(21,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(22,"div",1),l.Sb(23,"div",4),l.Sb(24,"h2"),l.Bc(25),l.ec(26,"translate"),l.Rb(),l.Sb(27,"div",5),l.Sb(28,"mat-icon",13),l.Nb(29,"fa-icon",14),l.Rb(),l.Sb(30,"mat-form-field"),l.Sb(31,"mat-select",15),l.Zb("selectionChange",(function(t){return l.rc(e),l.dc().onThemeSelect(t)})),l.ec(32,"translate"),l.ec(33,"translate"),l.Ac(34,be,3,4,"mat-option",16),l.Rb(),l.Rb(),l.Rb(),l.Sb(35,"div",5),l.Sb(36,"mat-icon",17),l.Nb(37,"fa-icon",18),l.Rb(),l.Sb(38,"mat-placeholder"),l.Bc(39),l.ec(40,"translate"),l.Rb(),l.Sb(41,"mat-slide-toggle",12),l.Zb("change",(function(t){return l.rc(e),l.dc().onAutoNightModeToggle(t)})),l.ec(42,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Sb(43,"div",4),l.Sb(44,"h2"),l.Bc(45),l.ec(46,"translate"),l.Rb(),l.Sb(47,"div",5),l.Sb(48,"mat-icon",19),l.Sb(49,"mat-icon",20),l.Nb(50,"fa-icon",21),l.Rb(),l.Rb(),l.Sb(51,"mat-placeholder"),l.Bc(52),l.ec(53,"translate"),l.Rb(),l.Ac(54,ue,1,0,"mat-slide-toggle",22),l.Ac(55,pe,2,4,"mat-slide-toggle",23),l.Rb(),l.Sb(56,"div",5),l.Sb(57,"mat-icon",24),l.Nb(58,"fa-icon",25),l.Rb(),l.Sb(59,"mat-placeholder"),l.Bc(60),l.ec(61,"translate"),l.Rb(),l.Sb(62,"mat-slide-toggle",12),l.Zb("change",(function(t){return l.rc(e),l.dc().onElementsAnimationsToggle(t)})),l.ec(63,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Pb()}if(2&e){const e=t.ngIf,a=l.dc();l.Ab(2),l.jc("ngClass",a.routeAnimationsElements),l.Ab(2),l.Cc(l.fc(5,26,"aula-planeta.settings.general.title")),l.Ab(6),l.jc("aria-label",l.fc(11,28,"aula-planeta.settings.general.placeholder"))("placeholder",l.fc(12,30,"aula-planeta.settings.general.placeholder"))("ngModel",e.language),l.Ab(3),l.jc("ngForOf",a.languages),l.Ab(5),l.Dc("",l.fc(19,32,"aula-planeta.settings.themes.sticky-header")," "),l.Ab(2),l.jc("aria-label",l.fc(21,34,"aula-planeta.settings.themes.sticky-header"))("checked",e.stickyHeader),l.Ab(3),l.jc("ngClass",a.routeAnimationsElements),l.Ab(2),l.Cc(l.fc(26,36,"aula-planeta.settings.themes.title")),l.Ab(6),l.jc("aria-label",l.fc(32,38,"aula-planeta.settings.themes.placeholder"))("placeholder",l.fc(33,40,"aula-planeta.settings.themes.placeholder"))("ngModel",e.theme),l.Ab(3),l.jc("ngForOf",a.themes),l.Ab(5),l.Dc("",l.fc(40,42,"aula-planeta.settings.themes.night-mode")," "),l.Ab(2),l.jc("aria-label",l.fc(42,44,"aula-planeta.settings.themes.night-mode"))("checked",e.autoNightMode),l.Ab(2),l.jc("ngClass",a.routeAnimationsElements),l.Ab(2),l.Cc(l.fc(46,46,"aula-planeta.settings.animations.title")),l.Ab(7),l.Dc("",l.fc(53,48,"aula-planeta.settings.animations.page")," "),l.Ab(2),l.jc("ngIf",e.pageAnimationsDisabled),l.Ab(1),l.jc("ngIf",!e.pageAnimationsDisabled),l.Ab(5),l.Dc("",l.fc(61,50,"aula-planeta.settings.animations.elements")," "),l.Ab(2),l.jc("aria-label",l.fc(63,52,"aula-planeta.settings.animations.elements"))("checked",e.elementsAnimations)}}let ge=(()=>{class e{constructor(e){this.settingsService=e,this.routeAnimationsElements=o.d,this.themes=[{value:"default-theme",label:"blue"},{value:"light-theme",label:"light"},{value:"nature-theme",label:"nature"},{value:"black-theme",label:"dark"}],this.languages=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"sk",label:"Sloven\u010dina"},{value:"fr",label:"Fran\xe7ais"},{value:"es",label:"Espa\xf1ol"},{value:"pt-br",label:"Portugu\xeas"},{value:"zh-cn",label:"\u7b80\u4f53\u4e2d\u6587"},{value:"he",label:"\u05e2\u05d1\u05e8\u05d9\u05ea"}]}ngOnInit(){}onLanguageSelect({value:e}){this.settingsService.changeSetting("language",e)}onThemeSelect({value:e}){this.settingsService.changeSetting("theme",e)}onAutoNightModeToggle({checked:e}){this.settingsService.changeSetting("autoNightMode",e)}onStickyHeaderToggle({checked:e}){this.settingsService.changeSetting("stickyHeader",e)}onPageAnimationsToggle({checked:e}){this.settingsService.changeSetting("pageAnimations",e)}onElementsAnimationsToggle({checked:e}){this.settingsService.changeSetting("elementsAnimations",e)}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(ne.a))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-settings"]],decls:9,vars:6,consts:[["role","region",1,"container"],[1,"row"],[1,"col-sm-12"],[4,"ngIf"],[1,"col-md-6","group",3,"ngClass"],[1,"icon-form-field"],["color","accent","aria-label","Idiomas"],["icon","language","color","accent"],["name","language","panelClass","cdkSelect",3,"aria-label","placeholder","ngModel","selectionChange"],[4,"ngFor","ngForOf"],["color","accent","aria-label","Menu"],["icon","bars","color","accent"],[3,"aria-label","checked","change"],["color","accent","aria-label","Temas"],["icon","paint-brush","color","accent"],["name","themes","panelClass","cdkSelect",3,"aria-label","placeholder","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["color","accent","aria-label","Modo noche"],["icon","lightbulb","color","accent"],["color","accent"],["color","accent","aria-label","Animaci\xf3n a pantalla completa"],["icon","window-maximize"],["aria-label","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled","",4,"ngIf"],[3,"aria-label","checked","change",4,"ngIf"],["color","accent","aria-label","Paginaci\xf3n deslizante"],["icon","stream","color","accent"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],[3,"value"],["aria-label","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled",""]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"h1"),l.Bc(4),l.ec(5,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Nb(6,"br"),l.Ac(7,de,64,54,"ng-container",3),l.ec(8,"async"),l.Rb()),2&e&&(l.Ab(4),l.Cc(l.fc(5,2,"aula-planeta.settings.title")),l.Ab(3),l.jc("ngIf",l.fc(8,4,t.settingsService.settings$)))},directives:[n.k,n.i,re.a,ie.a,I.c,p.a,v.j,v.m,n.j,I.g,se.a,d.l,ce.a],pipes:[m.c,n.b],styles:[".container[_ngcontent-%COMP%]{margin-top:1.25em}h1[_ngcontent-%COMP%]{margin:0 0 1.25em}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-transform:uppercase}h2[_ngcontent-%COMP%]{margin:0 0 .625em}.group[_ngcontent-%COMP%]{margin:0 0 2.5em}.icon-form-field[_ngcontent-%COMP%]{position:relative;display:flex;height:4.09375em;align-items:center}.icon-form-field[_ngcontent-%COMP%]   mat-placeholder[_ngcontent-%COMP%]{flex:2 1 auto}mat-icon[_ngcontent-%COMP%]{margin:0 .375em .375em 0;font-size:1.25em}mat-form-field[_ngcontent-%COMP%]{flex:1 0 auto}"]}),e})(),fe=(()=>{class e{constructor(e,t){this.userManagementServiceUser=e,this.authManagementService=t,this.destroy$=new c.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateTutorUser(e,t){this.userManagementServiceUser.updateTutorUser(e,t).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe()}updateDatosCurrentUser(e){this.authManagementService.currentUser.google?this.userManagementServiceUser.updateUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(e=>{this.authManagementService.refreshToken().pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe()}):e.img?this.userManagementServiceUser.uploadImgUser(e,e.img).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(t=>{e.img=t.nombreArchivo,this.userManagementServiceUser.updateUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(e=>{this.authManagementService.refreshToken().pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe()})}):this.userManagementServiceUser.updateUser(e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe(e=>{this.authManagementService.refreshToken().pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe()})}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(w),l.Wb(o.b))},e.\u0275prov=l.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var he=a("+Tre"),ve=a("zmEM");let Se=(()=>{class e{constructor(){this.fileDrop=new l.o,this.preventBodyDrop=!0,this.active=!1}onDrop(e){e.preventDefault(),this.active=!1;const{dataTransfer:t}=e;if(t.items){let e;"file"===t.items[0].kind&&(e=t.items[0].getAsFile()),t.items.clear(),this.fileDrop.emit(e)}else{const e=t.files;t.clearData();const a=Array.from(e);this.fileDrop.emit(a[0])}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.active=!0}onDragLeave(e){this.active=!1}onBodyDragOver(e){this.preventBodyDrop&&(e.preventDefault(),e.stopPropagation())}onBodyDrop(e){this.preventBodyDrop&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.Hb({type:e,selectors:[["","dropZone",""]],hostVars:2,hostBindings:function(e,t){1&e&&l.Zb("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))("dragover",(function(e){return t.onBodyDragOver(e)}),!1,l.pc)("drop",(function(e){return t.onBodyDrop(e)}),!1,l.pc),2&e&&l.Eb("drop-zone-active",t.active)},inputs:{preventBodyDrop:"preventBodyDrop"},outputs:{fileDrop:"dropZone"}}),e})();var Ae=a("e4iD");let Re=(()=>{class e{constructor(e){this.sanitizer=e}transform(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(Ae.b))},e.\u0275pipe=l.Lb({name:"safe",type:e,pure:!0}),e})();const Oe=function(e){return{minlength:e}};function ye(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,Oe,e.form.get("firstName").errors.minlength.requiredLength))," ")}}function Me(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Ce(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,Oe,e.form.get("lastName").errors.minlength.requiredLength))," ")}}function je(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Pe(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,Oe,e.form.get("email").errors.minlength.requiredLength))," ")}}function we(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function xe(e,t){if(1&e){const e=l.Tb();l.Sb(0,"div",10),l.Sb(1,"div",18),l.Zb("dropZone",(function(t){return l.rc(e),l.dc().onDrop(t)}))("click",(function(){return l.rc(e),l.oc(7).click()})),l.Sb(2,"div",19),l.Sb(3,"p"),l.Bc(4),l.ec(5,"translate"),l.Rb(),l.Sb(6,"input",20,21),l.Zb("change",(function(t){return l.rc(e),l.dc().onDrop(t.target.files[0])})),l.Rb(),l.Sb(8,"button",22),l.Bc(9),l.ec(10,"translate"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}2&e&&(l.Ab(4),l.Cc(l.fc(5,2,"aula-planeta.perfil.datos.dropzone")),l.Ab(5),l.Cc(l.fc(10,4,"aula-planeta.perfil.datos.select")))}let De=(()=>{class e{constructor(e,t,a,n){this.userManagementService=e,this.perfilService=t,this.fb=a,this.authManagementService=n,this.environment=M.a,this.img="",this.fileObj="",this.progress=0,this.destroy$=new c.a,this.routeAnimationsElements=o.d}ngOnInit(){this.form=this.fb.group({uuid:"",email:["",[v.o.required,v.o.minLength(5)]],password:["",[]],firstName:["",[v.o.required,v.o.minLength(5)]],lastName:["",[v.o.required,v.o.minLength(5)]],role:[[],[v.o.required]],terminos:[!1,[v.o.required]],img:[""]}),this.authManagementService.currentUser$.pipe(Object(y.a)(this.destroy$)).subscribe(e=>{if(e){const t=e.role.map(e=>e._id);this.img=e.google?e.img:`${M.a.apiUrl}/upload/user/${e.img}`,this.form.patchValue(Object.assign(Object.assign({},e),{img:this.img,role:t}))}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.form.valid){const e=this.form.getRawValue();delete e.terminos,e.img=this.file,this.perfilService.updateDatosCurrentUser(e)}}onDrop(e){this.file=e;const t=URL.createObjectURL(this.file);this.form.patchValue({img:t}),this.form.get("img").updateValueAndValidity()}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(w),l.Mb(fe),l.Mb(v.c),l.Mb(o.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-datos"]],decls:50,vars:40,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","firstName",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"placeholder"],["matInput","","formControlName","email",3,"placeholder"],[1,"row"],["class","col-md-2 p-0",4,"ngIf"],[1,"col-md-2","p-0"],[1,"profile"],["alt","",3,"src"],[1,"terminos"],["id","terminos","type","checkbox","id","cb","ngControl","cb","formControlName","terminos","required",""],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"fileupload",3,"dropZone","click"],[1,"ddinfo"],["type","file","name","img","hidden","","multiple","",3,"change"],["fileField",""],["role","button","mat-raised-button","","color","primary","mat-button",""]],template:function(e,t){1&e&&(l.Sb(0,"h3",0),l.Bc(1),l.ec(2,"translate"),l.Rb(),l.Sb(3,"form",1),l.Zb("ngSubmit",(function(){return t.onSubmit()})),l.Sb(4,"fieldset"),l.Sb(5,"div",2),l.Sb(6,"div",3),l.Sb(7,"mat-form-field"),l.Nb(8,"input",4),l.ec(9,"translate"),l.Ac(10,ye,3,6,"mat-error",5),l.Ac(11,Me,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(12,"div",2),l.Sb(13,"div",3),l.Sb(14,"mat-form-field"),l.Nb(15,"input",6),l.ec(16,"translate"),l.Ac(17,Ce,3,6,"mat-error",5),l.Ac(18,je,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",2),l.Sb(20,"div",3),l.Sb(21,"mat-form-field"),l.Nb(22,"input",7),l.ec(23,"translate"),l.Ac(24,Pe,3,6,"mat-error",5),l.Ac(25,we,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(26,"div",8),l.Ac(27,xe,11,6,"div",9),l.Sb(28,"div",10),l.Sb(29,"div",11),l.Nb(30,"img",12),l.ec(31,"safe"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(32,"div",13),l.Sb(33,"p"),l.Bc(34),l.ec(35,"translate"),l.Rb(),l.Sb(36,"p"),l.Bc(37),l.ec(38,"translate"),l.Rb(),l.Sb(39,"mat-checkbox",14),l.Bc(40),l.ec(41,"translate"),l.Rb(),l.Rb(),l.Nb(42,"mat-divider"),l.Sb(43,"div",15),l.Sb(44,"button",16),l.Bc(45),l.ec(46,"translate"),l.Rb(),l.Sb(47,"button",17),l.Bc(48),l.ec(49,"translate"),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(1),l.Cc(l.fc(2,19,"aula-planeta.perfil.datos.subtitulo")),l.Ab(2),l.jc("formGroup",t.form),l.Ab(5),l.jc("placeholder",l.fc(9,21,"aula-planeta.examples.simple-state-management.name")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("firstName").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("firstName").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(16,23,"aula-planeta.examples.simple-state-management.surname")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("lastName").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("lastName").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(23,25,"aula-planeta.examples.simple-state-management.email")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("email").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("email").hasError("required")),l.Ab(2),l.jc("ngIf",!t.authManagementService.currentUser.google),l.Ab(3),l.jc("src",l.gc(31,27,t.form.get("img").value,"url"),l.tc),l.Ab(4),l.Cc(l.fc(35,30,"aula-planeta.perfil.datos.condiciones1")),l.Ab(3),l.Cc(l.fc(38,32,"aula-planeta.perfil.datos.condiciones1")),l.Ab(3),l.Cc(l.fc(41,34,"aula-planeta.perfil.datos.condiciones3")),l.Ab(5),l.Cc(l.fc(46,36,"aula-planeta.examples.form.reset")),l.Ab(2),l.jc("disabled",!t.form.valid),l.Ab(1),l.Dc(" ",l.fc(49,38,"aula-planeta.examples.form.save"),""))},directives:[v.p,v.k,v.e,I.c,_.a,v.b,v.j,v.d,n.k,he.a,he.c,ve.a,k.a,I.b,Se],pipes:[m.c,Re],styles:['.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}.terminos[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.terminos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em;max-width:600px}.terminos[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin:2em 1em}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:1em}progress[_ngcontent-%COMP%]{margin-bottom:30px}.fileupload[_ngcontent-%COMP%]{background:#ebe9e9;height:300px;width:100%}.ddinfo[_ngcontent-%COMP%]{display:block;text-align:center;padding-top:130px;color:#a0a1a2}.profile[_ngcontent-%COMP%]{width:305px;height:305px;overflow:hidden;display:inline-block}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.remove[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;position:relative;top:-2px}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:100%;min-width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}@media (max-width:767px){.container[_ngcontent-%COMP%]{width:280px}}'],changeDetection:0}),e})();var Ne=a("0aut");const ke=function(e){return{minlength:e}};function Ie(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,ke,e.form.get("firstName").errors.minlength.requiredLength))," ")}}function _e(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Be(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,ke,e.form.get("lastName").errors.minlength.requiredLength))," ")}}function Ee(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Ue(e,t){if(1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e){const e=l.dc();l.Ab(1),l.Dc(" ",l.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",l.lc(4,ke,e.form.get("email").errors.minlength.requiredLength))," ")}}function $e(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Fe(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength")," "))}function qe(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Le(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength")," "))}function Te(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1),l.ec(2,"translate"),l.Rb()),2&e&&(l.Ab(1),l.Dc(" ",l.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Ze(e,t){1&e&&(l.Sb(0,"mat-error"),l.Bc(1," Las contrase\xf1as no "),l.Rb())}const Ge=[{path:"",pathMatch:"full",redirectTo:"/perfil/datos"},{path:"",component:h,data:{title:"aula-planeta.menu.perfil"},children:[{path:"datos",component:De},{path:"tutores",component:(()=>{class e{constructor(e,t,a,n){this.userManagementService=e,this.perfilService=t,this.fb=a,this.authManagementService=n,this.destroy$=new c.a,this.routeAnimationsElements=Ne.a}ngOnInit(){this.form=this.fb.group({uuid:"",email:["",[v.o.required,v.o.minLength(5)]],firstName:["",[v.o.required,v.o.minLength(5)]],lastName:["",[v.o.required,v.o.minLength(5)]],terminos:[!1,[v.o.required]]}),this.authManagementService.currentUser$.pipe(Object(y.a)(this.destroy$)).subscribe(e=>{if(e){const t=e.tutor?e.tutor:{email:"perico@palotes.es",firstName:"Perico",lastName:"Palotes"},{email:a,firstName:n,lastName:r}=t;this.form.patchValue({email:a,firstName:n,lastName:r})}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.form.valid){const e=this.form.getRawValue();this.perfilService.updateTutorUser(this.authManagementService.currentUser,e)}}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(w),l.Mb(fe),l.Mb(v.c),l.Mb(o.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-tutores"]],decls:38,vars:29,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","firstName",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"placeholder"],["matInput","","formControlName","email",3,"placeholder"],[1,"terminos"],["id","terminos","type","checkbox","id","cb","ngControl","cb","formControlName","terminos","required",""],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(l.Sb(0,"h3",0),l.Bc(1),l.ec(2,"translate"),l.Rb(),l.Sb(3,"form",1),l.Zb("ngSubmit",(function(){return t.onSubmit()})),l.Sb(4,"fieldset"),l.Sb(5,"div",2),l.Sb(6,"div",3),l.Sb(7,"mat-form-field"),l.Nb(8,"input",4),l.ec(9,"translate"),l.Ac(10,Ie,3,6,"mat-error",5),l.Ac(11,_e,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(12,"div",2),l.Sb(13,"div",3),l.Sb(14,"mat-form-field"),l.Nb(15,"input",6),l.ec(16,"translate"),l.Ac(17,Be,3,6,"mat-error",5),l.Ac(18,Ee,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",2),l.Sb(20,"div",3),l.Sb(21,"mat-form-field"),l.Nb(22,"input",7),l.ec(23,"translate"),l.Ac(24,Ue,3,6,"mat-error",5),l.Ac(25,$e,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(26,"div",8),l.Sb(27,"mat-checkbox",9),l.Bc(28),l.ec(29,"translate"),l.Rb(),l.Rb(),l.Nb(30,"mat-divider"),l.Sb(31,"div",10),l.Sb(32,"button",11),l.Bc(33),l.ec(34,"translate"),l.Rb(),l.Sb(35,"button",12),l.Bc(36),l.ec(37,"translate"),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(1),l.Cc(l.fc(2,15,"aula-planeta.perfil.tutores.subtitulo")),l.Ab(2),l.jc("formGroup",t.form),l.Ab(5),l.jc("placeholder",l.fc(9,17,"aula-planeta.examples.simple-state-management.name")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("firstName").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("firstName").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(16,19,"aula-planeta.examples.simple-state-management.surname")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("lastName").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("lastName").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(23,21,"aula-planeta.examples.simple-state-management.email")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("email").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("email").hasError("required")),l.Ab(3),l.Cc(l.fc(29,23,"aula-planeta.perfil.datos.condiciones3")),l.Ab(5),l.Cc(l.fc(34,25,"aula-planeta.examples.form.reset")),l.Ab(2),l.jc("disabled",!t.form.valid),l.Ab(1),l.Dc(" ",l.fc(37,27,"aula-planeta.examples.form.save"),""))},directives:[v.p,v.k,v.e,I.c,_.a,v.b,v.j,v.d,n.k,he.a,he.c,ve.a,k.a,I.b],pipes:[m.c],styles:[".main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}.terminos[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.terminos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em;max-width:600px}.terminos[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin:2em 1em}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:1em}@media (max-width:767px){.container[_ngcontent-%COMP%]{width:280px}}"],changeDetection:0}),e})()},{path:"contrasena",component:(()=>{class e{constructor(e,t,a){this.userManagementService=e,this.fb=t,this.authManagementService=a,this.destroy$=new c.a,this.routeAnimationsElements=Ne.a}ngOnInit(){this.form=this.fb.group({oldPassword:["",[v.o.required,v.o.minLength(6)]],newPassword:["",[v.o.required,v.o.minLength(6)]],repeatNewPassword:["",[v.o.required,v.o.minLength(6)]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(e){return e.controls.newPassword.value===e.controls.repeatNewPassword.value?null:{mismatch:!0}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.form.valid){const e=this.form.getRawValue();this.authManagementService.changePassword(this.authManagementService.currentUser,e).pipe(Object(O.a)(1),Object(y.a)(this.destroy$)).subscribe()}}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(w),l.Mb(v.c),l.Mb(o.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-contrasena"]],decls:33,vars:25,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","oldPassword",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","newPassword",3,"placeholder"],["matInput","","formControlName","repeatNewPassword",3,"placeholder"],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(l.Sb(0,"h3",0),l.Bc(1),l.ec(2,"translate"),l.Rb(),l.Sb(3,"form",1),l.Zb("ngSubmit",(function(){return t.onSubmit()})),l.Sb(4,"fieldset"),l.Sb(5,"div",2),l.Sb(6,"div",3),l.Sb(7,"mat-form-field"),l.Nb(8,"input",4),l.ec(9,"translate"),l.Ac(10,Fe,3,3,"mat-error",5),l.Ac(11,qe,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(12,"div",2),l.Sb(13,"div",3),l.Sb(14,"mat-form-field"),l.Nb(15,"input",6),l.ec(16,"translate"),l.Ac(17,Le,3,3,"mat-error",5),l.Ac(18,Te,3,3,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",2),l.Sb(20,"div",3),l.Sb(21,"mat-form-field"),l.Nb(22,"input",7),l.ec(23,"translate"),l.Ac(24,Ze,2,0,"mat-error",5),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Nb(25,"mat-divider"),l.Sb(26,"div",8),l.Sb(27,"button",9),l.Bc(28),l.ec(29,"translate"),l.Rb(),l.Sb(30,"button",10),l.Bc(31),l.ec(32,"translate"),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(1),l.Cc(l.fc(2,13,"aula-planeta.perfil.tutores.subtitulo")),l.Ab(2),l.jc("formGroup",t.form),l.Ab(5),l.jc("placeholder",l.fc(9,15,"aula-planeta.perfil.contrasena.old")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("oldPassword").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("oldPassword").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(16,17,"aula-planeta.perfil.contrasena.new")+"*"),l.Ab(2),l.jc("ngIf",t.form.get("newPassword").hasError("minlength")),l.Ab(1),l.jc("ngIf",t.form.get("newPassword").hasError("required")),l.Ab(4),l.jc("placeholder",l.fc(23,19,"aula-planeta.perfil.contrasena.confirm")+"*"),l.Ab(2),l.jc("ngIf",(null==t.form.errors?null:t.form.errors.mismatch)&&(t.form.controls.repeatNewPassword.dirty||t.form.controls.repeatNewPassword.touched)),l.Ab(4),l.Cc(l.fc(29,21,"aula-planeta.examples.form.reset")),l.Ab(2),l.jc("disabled",!t.form.valid),l.Ab(1),l.Dc(" ",l.fc(32,23,"aula-planeta.examples.form.save"),""))},directives:[v.p,v.k,v.e,I.c,_.a,v.b,v.j,v.d,n.k,ve.a,k.a,I.b],pipes:[m.c],styles:[""],changeDetection:0}),e})()},{path:"activacion",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-activacion"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Sb(0,"p"),l.Bc(1,"activacion works!"),l.Rb())},styles:[""],changeDetection:0}),e})()},{path:"vincular",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Gb({type:e,selectors:[["aula-planeta-vincular"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Sb(0,"p"),l.Bc(1,"vincular works!"),l.Rb())},styles:[""],changeDetection:0}),e})()},{path:"users",component:ae},{path:"settings",component:ge}]}];let Ve=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(t){return new(t||e)},imports:[[s.k.forChild(Ge)],s.k]}),e})();var ze=a("2oKa");let He=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(t){return new(t||e)},providers:[w,fe],imports:[[n.c,r.a,Ve,i.a,ze.a]]}),e})()}}]);