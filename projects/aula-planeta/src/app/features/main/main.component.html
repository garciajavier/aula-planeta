<div [class]="'theme-wrapper ' + (settingsService.settings$  | async | settings: 'theme')">
    <div class="wrapper">

        <header role="heading" class="toolbar" [style.position]="(settingsService.settings$  | async | settings: 'stickyHeader') ? 'fixed' : 'inherit'" (window.scroll)="eventoScroll($event)" [class.mat-elevation-z3]="isScrolling">

            <mat-toolbar color="primary" class="d-flex justify-content-between align-items-center">
                <div class="d-flex justify-content-center align-items-center">
                    <button role="button" mat-icon-button aria-label="Menú" (click)="toggleSidenav(sidenav)">
                        <mat-icon [hidden]="sideconf.open">menu</mat-icon>
                        <mat-icon [hidden]="!sideconf.open">menu_open</mat-icon>
                    </button>

                    <a routerLink="/" class="d-inline title">aulaPlaneta</a>
                </div>

                <div class="logo-container">
                    <img src="/assets/logo-grupo-planeta.png" alt="Logo Banner" />
                </div>
          
                <div>
                    <button id="toolbarUserMenu" role="button" aria-label="Menú de usuario" mat-button [matMenuTriggerFor]="toolbarUserMenu" (menuOpened)="toggleMenu(true)" (menuClosed)="toggleMenu(false)">
                        <!-- <mat-icon class="mr-0 mr-sm-2">account_circle</mat-icon> -->
                        <div class="avatar" [ngClass]="{'border': !user.img}">
                            <img *ngIf="user.img" [src]="user.img" alt="Profile Avatar" loading="eager"/>
                            <span *ngIf="!user.img">
                                {{user.firstName.charAt(0)}}{{user.lastName.charAt(0)}}
                            </span>
                        </div>
                        <span *ngIf="user" class="d-none d-sm-inline">Hola, {{user.firstName}} {{user.lastName}}</span>
                        <mat-icon [ngClass]="{'open': userMenu, 'close': !userMenu}">keyboard_arrow_down</mat-icon>
                    </button>
                    

                    <mat-menu #toolbarUserMenu="matMenu">
                        <button role="button" mat-menu-item routerLink="settings">
                            <mat-icon>account_box</mat-icon>
                            <span>{{ 'aula-planeta.menu.profile' | translate }}</span>
                        </button>
                        <button role="button" mat-menu-item routerLink="settings">
                            <mat-icon>settings</mat-icon>
                            <span>{{ 'aula-planeta.menu.school-settings' | translate }}</span>
                        </button>
                        <button role="button" mat-menu-item (click)="onLogoutClick()">
                            <mat-icon>exit_to_app</mat-icon>
                            <span>{{ 'aula-planeta.menu.logout' | translate }}</span>
                        </button>
                    </mat-menu>
                </div>
            </mat-toolbar>
        </header>

        <div class="content" [@routeAnimations]="o.isActivated && o.activatedRoute.routeConfig.data && o.activatedRoute.routeConfig.data.title">
            
            <mat-sidenav-container role="main">
                <mat-sidenav #sidenav mode="side" role="navigation">
                    <mat-nav-list>
                        <a mat-list-item *ngFor="let item of navigationSideMenu" (click)="sidenav.close()" [routerLink]="[item.link]" routerLinkActive="active">
                            {{item.label | translate}}
                        </a>
                    </mat-nav-list>
                </mat-sidenav>

                <router-outlet #o="outlet"></router-outlet>
            </mat-sidenav-container>

            <div class="footer" role="region">
                    <div class="row">
                        <div class="col-sm-12 links">
                            <a href="https://twitter.com/aulaplaneta?lang=es" target="_blank" rel="noopener noreferrer">
                                <fa-icon [icon]="['fab','twitter']"></fa-icon>
                                <span>Twitter</span>
                            </a>
                            <a href="https://www.youtube.com/channel/UCR_vBgIJw21LQoSadb16tvA" target="_blank" rel="noopener noreferrer">
                                <fa-icon [icon]="['fab','youtube']"></fa-icon>
                                <span>Youtube</span>
                            </a>
                            <a href="https://www.instagram.com/aulaplaneta/?hl=es" target="_blank" rel="noopener noreferrer">
                                <fa-icon [icon]="['fab','instagram']"></fa-icon>
                                <span>Instagram</span>
                            </a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 signature">
                            &#169; <span class="year">{{year}}</span> Planeta
                            <br class="d-block d-sm-none">
                            <a [matTooltip]="'aula-planeta.footer.changelog' | translate" matTooltipPosition="before" href="https://www.googles.es">
                                <fa-icon icon="rocket"></fa-icon>
                                {{version}} <span *ngIf="!isProd">[{{envName}}]</span>
                            </a>
                        </div>
                    </div>
                </div>
        </div>
    </div>
</div>