!function(){function e(e,a){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,a)}(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XZo9:function(t,n,i){"use strict";i.r(n),i.d(n,"PerfilModule",(function(){return bt}));var o=i("2kYt"),c=i("PCNd"),s=i("hctd"),l=i("sEIs"),u=i("ZTXN"),m=i("pKmL"),b=i("EM62"),f=i("s2Ay"),p=i("cz58"),d=i("KZIX"),g=i("R7+U"),h=i("mFH5");function v(e,t){if(1&e&&(b.Sb(0,"a",8,9),b.Bc(2),b.ec(3,"translate"),b.Rb()),2&e){var a=t.$implicit,n=b.oc(1);b.jc("routerLink",a.link)("active",n.isActive)("disabled",a.auth),b.Ab(2),b.Dc(" ",b.fc(3,4,a.label)," ")}}function S(e,t){if(1&e&&(b.Sb(0,"mat-option",10),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=t.$implicit;b.jc("value",a)("routerLink",a.link)("disabled",a.auth),b.Ab(1),b.Dc(" ",b.fc(2,4,a.label)," ")}}var y,A,R,O,M=((y=function(){function e(t,n){a(this,e),this.translateService=t,this.authManagementService=n,this.destroy$=new u.a,this.tabs=[]}return r(e,[{key:"ngOnInit",value:function(){this.tabs=[{link:"datos",label:"aula-planeta.perfil.menu.datos",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"tutores",label:"aula-planeta.perfil.menu.tutores",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"contrasena",label:"aula-planeta.perfil.menu.contrasena",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"activacion",label:"aula-planeta.perfil.menu.activacion",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"vincular",label:"aula-planeta.perfil.menu.vincular",auth:!this.authManagementService.userCan(["PROFESOR_ROLE"])},{link:"users",label:"aula-planeta.perfil.menu.users",auth:!this.authManagementService.userCan(["ADMIN_ROLE"])},{link:"settings",label:"aula-planeta.perfil.menu.settings",auth:!this.authManagementService.userCan(["ADMIN_ROLE"])}]}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),e}()).\u0275fac=function(e){return new(e||y)(b.Mb(f.d),b.Mb(m.b))},y.\u0275cmp=b.Gb({type:y,selectors:[["aula-planeta-perfil"]],decls:13,vars:10,consts:[[1,"mt-3","ml-3"],["rtl","",1,"main-heading"],["mat-tab-nav-bar","","role","tab",1,"d-none","d-sm-flex"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","disabled",4,"ngFor","ngForOf"],["role","navigation",1,"nav-responsive","d-sm-none","d-flex","justify-content-center"],["panelClass","cdkSelect",3,"placeholder","value"],[3,"value","routerLink","disabled",4,"ngFor","ngForOf"],["o","outlet"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","disabled"],["rla","routerLinkActive"],[3,"value","routerLink","disabled"]],template:function(e,t){if(1&e&&(b.Sb(0,"div",0),b.Sb(1,"h1",1),b.Bc(2),b.ec(3,"translate"),b.Rb(),b.Sb(4,"nav",2),b.Ac(5,v,4,6,"a",3),b.Rb(),b.Sb(6,"nav",4),b.Sb(7,"mat-select",5),b.ec(8,"translate"),b.Ac(9,S,3,6,"mat-option",6),b.Rb(),b.Rb(),b.Sb(10,"div"),b.Nb(11,"router-outlet",null,7),b.Rb(),b.Rb()),2&e){var a=b.oc(12);b.Ab(2),b.Dc(" ",b.fc(3,6,"aula-planeta.menu.mi-perfil"),""),b.Ab(3),b.jc("ngForOf",t.tabs),b.Ab(2),b.jc("placeholder",b.fc(8,8,"aula-planeta.perfil.title"))("value","datos"),b.Ab(2),b.jc("ngForOf",t.tabs),b.Ab(1),b.jc("@routeAnimations",a.isActivated&&a.activatedRoute.routeConfig.path)}},directives:[p.a,d.b,o.j,g.a,l.l,l.j,d.a,l.i,h.l,l.h],pipes:[f.c],styles:["nav[_ngcontent-%COMP%]{margin-bottom:1.25em}nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:7.5em;padding:0 .9375em}@media (max-width:768px){nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:0}}"],data:{animation:[m.e]},changeDetection:0}),y),k=i("nIj0"),j=i("jIqt"),C=i("YtkY"),P=i("C05f"),w=i("J+dc"),x=i("kuMc"),D=i("AytR"),I=i("rB37"),N=i("vobO"),_=((R=function(){function e(t,n){a(this,e),this.http=t,this.cache=n}return r(e,[{key:"getUsers",value:function(){var e=this.http.get(D.a.apiUrl+"/users");return this.cache.observable("USERDATASERVICE-GETUSERS",e)}},{key:"createUser",value:function(e){return this.http.post(D.a.apiUrl+"/users/register",e)}},{key:"updateUser",value:function(e){return this.http.put("".concat(D.a.apiUrl,"/users/").concat(e.uuid),e)}},{key:"updateTutorUser",value:function(e,t){return this.http.put("".concat(D.a.apiUrl,"/users/tutor/").concat(e.uuid),e)}},{key:"deleteUser",value:function(e){return this.http.delete("".concat(D.a.apiUrl,"/users/").concat(e.uuid))}},{key:"uploadImgUser",value:function(e,t){var a=new FormData;return a.append("imagen",t),this.http.put("".concat(D.a.apiUrl,"/upload/user/").concat(e.uuid),a)}}]),e}()).\u0275fac=function(e){return new(e||R)(b.Wb(N.b),b.Wb(I.a))},R.\u0275prov=b.Ib({token:R,factory:R.\u0275fac,providedIn:"root"}),R),B=((A=function(){function e(t){a(this,e),this.userDataService=t,this.destroy$=new u.a,this._users=new P.a([]),this.users$=this._users.asObservable(),this.getUsers()}return r(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getUsers",value:function(){var e=this;this.userDataService.getUsers().pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(t){e.usersNext(t.users)}))}},{key:"createUser",value:function(e){var t=this;this.userDataService.createUser(e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(){t.getUsers()}))}},{key:"updateUser",value:function(e){var t=this;return this.userDataService.updateUser(e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$),Object(C.a)((function(){t.getUsers()})))}},{key:"updateTutorUser",value:function(e,t){var a=this;return this.userDataService.updateTutorUser(e,t).pipe(Object(w.a)(1),Object(x.a)(this.destroy$),Object(C.a)((function(){a.getUsers()})))}},{key:"uploadImgUser",value:function(e,t){return this.userDataService.uploadImgUser(e,t).pipe(Object(w.a)(1),Object(x.a)(this.destroy$))}},{key:"deleteUser",value:function(e){var t=this;this.userDataService.deleteUser(e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(){t.getUsers()}))}},{key:"usersNext",value:function(e){this._users.next(e)}},{key:"users",get:function(){return this._users.getValue()}}]),e}()).\u0275fac=function(e){return new(e||A)(b.Wb(_))},A.\u0275prov=b.Ib({token:A,factory:A.\u0275fac}),A),E=i("mQTi"),U=((O=function(){function t(e,n,r){a(this,t),this.templateRef=e,this.viewContainer=n,this.authManagementService=r,this.privileges=[],this.logicalOperation="OR",this.isHidden=!0,this.destroy$=new u.a}return r(t,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){var e=this;this.authManagementService.currentUser$.pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(t){e.currentUser=t,e.updateView()}))}},{key:"updateView",value:function(){this.checkPermission()?this.isHidden&&(this.viewContainer.createEmbeddedView(this.templateRef),this.isHidden=!1):(this.isHidden=!0,this.viewContainer.clear())}},{key:"checkPermission",value:function(){var t=!1;if(this.currentUser&&this.currentUser.role&&this.currentUser.role.length){var a,n=e(this.privileges);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(this.authManagementService.userCan([r])){if(t=!0,"OR"===this.logicalOperation)break}else if(t=!1,"AND"===this.logicalOperation)break}}catch(i){n.e(i)}finally{n.f()}}return t}},{key:"hasPermission",set:function(e){this.privileges=e,this.updateView()}},{key:"hasPermissionOperation",set:function(e){this.logicalOperation=e,this.updateView()}}]),t}()).\u0275fac=function(e){return new(e||O)(b.Mb(b.M),b.Mb(b.Q),b.Mb(E.a))},O.\u0275dir=b.Hb({type:O,selectors:[["","hasPermission",""]],inputs:{hasPermission:"hasPermission",hasPermissionOperation:"hasPermissionOperation"}}),O),$=i("Meci"),F=i("PBFl"),q=i("29Wa"),L=i("Cd2c");function T(e,t){if(1&e){var a=b.Tb();b.Sb(0,"button",12),b.Zb("click",(function(){b.rc(a);var e=b.dc().$implicit;return b.dc(2).editUser(e)})),b.Bc(1),b.ec(2,"translate"),b.Rb()}2&e&&(b.Ab(1),b.Cc(b.fc(2,1,"aula-planeta.examples.crud.tooltip.edit")))}function Z(e,t){if(1&e){var a=b.Tb();b.Sb(0,"button",12),b.Zb("click",(function(){b.rc(a);var e=b.dc().$implicit;return b.dc(2).deleteUser(e)})),b.Bc(1),b.ec(2,"translate"),b.Rb()}2&e&&(b.Ab(1),b.Cc(b.fc(2,1,"aula-planeta.examples.crud.title")))}var G=function(){return["PROFESOR_ROLE"]};function V(e,t){if(1&e&&(b.Sb(0,"mat-card",9),b.Sb(1,"mat-card-header"),b.Nb(2,"img",10),b.Sb(3,"mat-card-title"),b.Bc(4),b.Rb(),b.Sb(5,"mat-card-subtitle"),b.Bc(6),b.Rb(),b.Rb(),b.Sb(7,"mat-card-actions"),b.Ac(8,T,3,3,"button",11),b.Ac(9,Z,3,3,"button",11),b.Rb(),b.Rb()),2&e){var a=t.$implicit,n=b.dc(2);b.jc("ngClass",n.routeAnimationsElements),b.Ab(2),b.jc("src",a.img,b.tc)("alt",a.email),b.Ab(2),b.Ec("",a.firstName," ",a.lastName,""),b.Ab(2),b.Cc(a.email),b.Ab(2),b.jc("hasPermission",b.kc(8,G)),b.Ab(1),b.jc("hasPermission",b.kc(9,G))}}function z(e,t){if(1&e&&(b.Qb(0,7),b.Ac(1,V,10,10,"mat-card",8),b.Pb()),2&e){var a=t.ngIf,n=b.dc();b.Ab(1),b.jc("ngForOf",a)("ngForTrackBy",n.trackByUserId)}}function H(e,t){1&e&&(b.Sb(0,"h2"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Cc(b.fc(2,1,"aula-planeta.examples.simple-state-management.form.add.title")))}function Q(e,t){1&e&&(b.Sb(0,"h2"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Cc(b.fc(2,1,"aula-planeta.examples.simple-state-management.form.edit.title")))}var K=function(e){return{minlength:e}};function W(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc(3);b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,K,a.userForm.get("email").errors.minlength.requiredLength))," ")}}function J(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function X(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc(3);b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,K,a.userForm.get("password").errors.minlength.requiredLength))," ")}}function Y(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function ee(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc(3);b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,K,a.userForm.get("firstName").errors.minlength.requiredLength))," ")}}function te(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function ae(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc(3);b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,K,a.userForm.get("lastName").errors.minlength.requiredLength))," ")}}function ne(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function re(e,t){if(1&e&&(b.Sb(0,"mat-option",26),b.Bc(1),b.Rb()),2&e){var a=t.$implicit;b.jc("value",a._id),b.Ab(1),b.Cc(a.desc)}}function ie(e,t){1&e&&(b.Sb(0,"button",27),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.form.add.submit")," "))}function oe(e,t){1&e&&(b.Sb(0,"button",27),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.form.edit.submit")," "))}function ce(e,t){if(1&e){var a=b.Tb();b.Qb(0),b.Ac(1,H,3,3,"h2",13),b.Ac(2,Q,3,3,"h2",13),b.Sb(3,"form",14,15),b.Zb("ngSubmit",(function(){b.rc(a);var e=b.oc(4);return b.dc(2).onSubmit(e)})),b.Sb(5,"fieldset"),b.Sb(6,"mat-form-field"),b.Nb(7,"input",16),b.ec(8,"translate"),b.Ac(9,W,3,6,"mat-error",13),b.Ac(10,J,3,3,"mat-error",13),b.Rb(),b.Sb(11,"mat-form-field"),b.Nb(12,"input",17),b.ec(13,"translate"),b.Ac(14,X,3,6,"mat-error",13),b.Ac(15,Y,3,3,"mat-error",13),b.Rb(),b.Sb(16,"mat-form-field"),b.Nb(17,"input",18),b.ec(18,"translate"),b.Ac(19,ee,3,6,"mat-error",13),b.Ac(20,te,3,3,"mat-error",13),b.Rb(),b.Sb(21,"mat-form-field"),b.Nb(22,"input",19),b.ec(23,"translate"),b.Ac(24,ae,3,6,"mat-error",13),b.Ac(25,ne,3,3,"mat-error",13),b.Rb(),b.Sb(26,"mat-form-field",20),b.Sb(27,"mat-label",21),b.Bc(28,"Roles"),b.Rb(),b.Sb(29,"mat-select",22),b.Ac(30,re,2,2,"mat-option",23),b.ec(31,"async"),b.Rb(),b.Rb(),b.Sb(32,"div"),b.Ac(33,ie,3,3,"button",24),b.Ac(34,oe,3,3,"button",24),b.Sb(35,"button",25),b.Bc(36),b.ec(37,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){var n=t.ngIf,r=b.dc(2);b.Ab(1),b.jc("ngIf",!n.value),b.Ab(1),b.jc("ngIf",n.value),b.Ab(1),b.jc("formGroup",r.userForm),b.Ab(4),b.jc("placeholder",b.fc(8,20,"aula-planeta.examples.simple-state-management.email")+"*"),b.Ab(2),b.jc("ngIf",r.userForm.get("email").hasError("minlength")),b.Ab(1),b.jc("ngIf",r.userForm.get("email").hasError("required")),b.Ab(2),b.jc("placeholder",b.fc(13,22,"aula-planeta.examples.simple-state-management.password")+"*")("readonly",n.value),b.Ab(2),b.jc("ngIf",r.userForm.get("password").hasError("minlength")),b.Ab(1),b.jc("ngIf",r.userForm.get("password").hasError("required")),b.Ab(2),b.jc("placeholder",b.fc(18,24,"aula-planeta.examples.simple-state-management.name")+"*"),b.Ab(2),b.jc("ngIf",r.userForm.get("firstName").hasError("minlength")),b.Ab(1),b.jc("ngIf",r.userForm.get("firstName").hasError("required")),b.Ab(2),b.jc("placeholder",b.fc(23,26,"aula-planeta.examples.simple-state-management.surname")+"*"),b.Ab(2),b.jc("ngIf",r.userForm.get("lastName").hasError("minlength")),b.Ab(1),b.jc("ngIf",r.userForm.get("lastName").hasError("required")),b.Ab(5),b.jc("ngForOf",b.fc(31,28,r.authManagementService.roles$)),b.Ab(3),b.jc("ngIf",!n.value),b.Ab(1),b.jc("ngIf",n.value),b.Ab(2),b.Cc(b.fc(37,30,"aula-planeta.examples.form.reset"))}}function se(e,t){if(1&e&&(b.Qb(0),b.Ac(1,ce,38,32,"ng-container",13),b.ec(2,"async"),b.Pb()),2&e){var a=b.dc();b.Ab(1),b.jc("ngIf",b.fc(2,1,a.isEdit$))}}var le,ue=((le=function(){function e(t,n,r){a(this,e),this.userManagementService=t,this.fb=n,this.authManagementService=r,this.routeAnimationsElements=m.d}return r(e,[{key:"ngOnInit",value:function(){this.userForm=this.fb.group({uuid:"",email:["",[k.o.required,k.o.minLength(5)]],password:["",[k.o.required,k.o.minLength(5)]],firstName:["",[k.o.required,k.o.minLength(5)]],lastName:["",[k.o.required,k.o.minLength(5)]],role:[[],[k.o.required]]}),this.isEdit$=this.userForm.get("uuid").valueChanges.pipe(Object(j.a)(""),Object(C.a)((function(e){return{value:(e||"").length>0}}))),this.userManagementService.getUsers()}},{key:"deleteUser",value:function(e){this.userManagementService.deleteUser(e)}},{key:"editUser",value:function(e){var t=e.role.map((function(e){return e._id}));this.userForm.patchValue(Object.assign(Object.assign({},e),{role:t}))}},{key:"onSubmit",value:function(e){if(this.userForm.valid){var t=this.userForm.getRawValue();t.uuid&&t.uuid.length?(delete t.password,this.userManagementService.updateUser(t).subscribe()):this.userManagementService.createUser(Object.assign({},t)),e.resetForm(),this.userForm.reset()}}},{key:"trackByUserId",value:function(e,t){return t.uuid}}]),e}()).\u0275fac=function(e){return new(e||le)(b.Mb(B),b.Mb(k.c),b.Mb(m.b))},le.\u0275cmp=b.Gb({type:le,selectors:[["aula-planeta-user"]],decls:11,vars:9,consts:[[1,"container"],[1,"row"],[1,"offset-md-2","col-md-8"],["rtl","",1,"main-heading"],["rtl","",1,"row",3,"ngClass"],["role","list",4,"ngIf"],[4,"hasPermission"],["role","list"],["role","listitem",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem",3,"ngClass"],["role","img","aria-label","Avatar","mat-card-avatar","","crossorigin","anonymous","onerror","this.style.display='none'",3,"src","alt"],["role","button","mat-button","",3,"click",4,"hasPermission"],["role","button","mat-button","",3,"click"],[4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["userFormRef","ngForm"],["matInput","","formControlName","email",3,"placeholder"],["matInput","","type","password","formControlName","password",3,"placeholder","readonly"],["matInput","","formControlName","firstName",3,"placeholder"],["matInput","","formControlName","lastName",3,"placeholder"],[1,"w-100"],["aria-label","Roles"],["formControlName","role","multiple","","panelClass","cdkSelect"],[3,"value",4,"ngFor","ngForOf"],["role","button","type","submit","mat-raised-button","","color","primary",4,"ngIf"],["role","button","type","reset","mat-button","","color","warn"],[3,"value"],["role","button","type","submit","mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"h1",3),b.Bc(4),b.ec(5,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",4),b.Sb(7,"div",2),b.Ac(8,z,2,2,"ng-container",5),b.ec(9,"async"),b.Ac(10,se,3,3,"ng-container",6),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(4),b.Dc(" ",b.fc(5,4,"aula-planeta.perfil.menu.users")," "),b.Ab(2),b.jc("ngClass",t.routeAnimationsElements),b.Ab(2),b.jc("ngIf",b.fc(9,6,t.userManagementService.users$)),b.Ab(2),b.jc("hasPermission",b.kc(8,G)))},directives:[p.a,o.i,o.k,U,o.j,$.a,$.e,$.c,$.h,$.g,$.b,F.a,k.p,k.k,k.e,q.c,L.a,k.b,k.j,k.d,q.f,g.a,q.b,h.l],pipes:[f.c,o.b],styles:[".main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}"],changeDetection:0}),le),me=i("NKdq"),be=i("bFHC"),fe=i("Pq5H"),pe=i("k8N0"),de=i("Y2X+");function ge(e,t){if(1&e&&(b.Sb(0,"mat-option",27),b.Bc(1),b.Rb()),2&e){var a=t.$implicit,n=b.dc().$implicit;b.jc("value",n.value)("title",a!==n.label?a:""),b.Ab(1),b.Dc(" ",n.label," ")}}var he=function(e){return[e]};function ve(e,t){if(1&e&&(b.Qb(0),b.Ac(1,ge,2,3,"mat-option",26),b.ec(2,"translate"),b.Pb()),2&e){var a=t.$implicit;b.Ab(1),b.jc("ngForOf",b.lc(3,he,b.fc(2,1,"aula-planeta.settings.general.language."+a.value)))}}function Se(e,t){if(1&e&&(b.Sb(0,"mat-option",28),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=t.$implicit;b.jc("value",a.value),b.Ab(1),b.Dc(" ",b.fc(2,2,"aula-planeta.settings.themes."+a.label)," ")}}function ye(e,t){1&e&&b.Nb(0,"mat-slide-toggle",29)}function Ae(e,t){if(1&e){var a=b.Tb();b.Sb(0,"mat-slide-toggle",12),b.Zb("change",(function(e){return b.rc(a),b.dc(2).onPageAnimationsToggle(e)})),b.ec(1,"translate"),b.Rb()}if(2&e){var n=b.dc().ngIf;b.jc("aria-label",b.fc(1,2,"aula-planeta.settings.animations.page"))("checked",n.pageAnimations)}}function Re(e,t){if(1&e){var a=b.Tb();b.Qb(0),b.Sb(1,"div",1),b.Sb(2,"div",4),b.Sb(3,"h2"),b.Bc(4),b.ec(5,"translate"),b.Rb(),b.Sb(6,"div",5),b.Sb(7,"mat-icon",6),b.Nb(8,"fa-icon",7),b.Rb(),b.Sb(9,"mat-form-field"),b.Sb(10,"mat-select",8),b.Zb("selectionChange",(function(e){return b.rc(a),b.dc().onLanguageSelect(e)})),b.ec(11,"translate"),b.ec(12,"translate"),b.Ac(13,ve,3,5,"ng-container",9),b.Rb(),b.Rb(),b.Rb(),b.Sb(14,"div",5),b.Sb(15,"mat-icon",10),b.Nb(16,"fa-icon",11),b.Rb(),b.Sb(17,"mat-placeholder"),b.Bc(18),b.ec(19,"translate"),b.Rb(),b.Sb(20,"mat-slide-toggle",12),b.Zb("change",(function(e){return b.rc(a),b.dc().onStickyHeaderToggle(e)})),b.ec(21,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(22,"div",1),b.Sb(23,"div",4),b.Sb(24,"h2"),b.Bc(25),b.ec(26,"translate"),b.Rb(),b.Sb(27,"div",5),b.Sb(28,"mat-icon",13),b.Nb(29,"fa-icon",14),b.Rb(),b.Sb(30,"mat-form-field"),b.Sb(31,"mat-select",15),b.Zb("selectionChange",(function(e){return b.rc(a),b.dc().onThemeSelect(e)})),b.ec(32,"translate"),b.ec(33,"translate"),b.Ac(34,Se,3,4,"mat-option",16),b.Rb(),b.Rb(),b.Rb(),b.Sb(35,"div",5),b.Sb(36,"mat-icon",17),b.Nb(37,"fa-icon",18),b.Rb(),b.Sb(38,"mat-placeholder"),b.Bc(39),b.ec(40,"translate"),b.Rb(),b.Sb(41,"mat-slide-toggle",12),b.Zb("change",(function(e){return b.rc(a),b.dc().onAutoNightModeToggle(e)})),b.ec(42,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(43,"div",4),b.Sb(44,"h2"),b.Bc(45),b.ec(46,"translate"),b.Rb(),b.Sb(47,"div",5),b.Sb(48,"mat-icon",19),b.Sb(49,"mat-icon",20),b.Nb(50,"fa-icon",21),b.Rb(),b.Rb(),b.Sb(51,"mat-placeholder"),b.Bc(52),b.ec(53,"translate"),b.Rb(),b.Ac(54,ye,1,0,"mat-slide-toggle",22),b.Ac(55,Ae,2,4,"mat-slide-toggle",23),b.Rb(),b.Sb(56,"div",5),b.Sb(57,"mat-icon",24),b.Nb(58,"fa-icon",25),b.Rb(),b.Sb(59,"mat-placeholder"),b.Bc(60),b.ec(61,"translate"),b.Rb(),b.Sb(62,"mat-slide-toggle",12),b.Zb("change",(function(e){return b.rc(a),b.dc().onElementsAnimationsToggle(e)})),b.ec(63,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){var n=t.ngIf,r=b.dc();b.Ab(2),b.jc("ngClass",r.routeAnimationsElements),b.Ab(2),b.Cc(b.fc(5,26,"aula-planeta.settings.general.title")),b.Ab(6),b.jc("aria-label",b.fc(11,28,"aula-planeta.settings.general.placeholder"))("placeholder",b.fc(12,30,"aula-planeta.settings.general.placeholder"))("ngModel",n.language),b.Ab(3),b.jc("ngForOf",r.languages),b.Ab(5),b.Dc("",b.fc(19,32,"aula-planeta.settings.themes.sticky-header")," "),b.Ab(2),b.jc("aria-label",b.fc(21,34,"aula-planeta.settings.themes.sticky-header"))("checked",n.stickyHeader),b.Ab(3),b.jc("ngClass",r.routeAnimationsElements),b.Ab(2),b.Cc(b.fc(26,36,"aula-planeta.settings.themes.title")),b.Ab(6),b.jc("aria-label",b.fc(32,38,"aula-planeta.settings.themes.placeholder"))("placeholder",b.fc(33,40,"aula-planeta.settings.themes.placeholder"))("ngModel",n.theme),b.Ab(3),b.jc("ngForOf",r.themes),b.Ab(5),b.Dc("",b.fc(40,42,"aula-planeta.settings.themes.night-mode")," "),b.Ab(2),b.jc("aria-label",b.fc(42,44,"aula-planeta.settings.themes.night-mode"))("checked",n.autoNightMode),b.Ab(2),b.jc("ngClass",r.routeAnimationsElements),b.Ab(2),b.Cc(b.fc(46,46,"aula-planeta.settings.animations.title")),b.Ab(7),b.Dc("",b.fc(53,48,"aula-planeta.settings.animations.page")," "),b.Ab(2),b.jc("ngIf",n.pageAnimationsDisabled),b.Ab(1),b.jc("ngIf",!n.pageAnimationsDisabled),b.Ab(5),b.Dc("",b.fc(61,50,"aula-planeta.settings.animations.elements")," "),b.Ab(2),b.jc("aria-label",b.fc(63,52,"aula-planeta.settings.animations.elements"))("checked",n.elementsAnimations)}}var Oe,Me,ke,je,Ce=((Me=function(){function e(t){a(this,e),this.settingsService=t,this.routeAnimationsElements=m.d,this.themes=[{value:"default-theme",label:"blue"},{value:"light-theme",label:"light"},{value:"nature-theme",label:"nature"},{value:"black-theme",label:"dark"}],this.languages=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"sk",label:"Sloven\u010dina"},{value:"fr",label:"Fran\xe7ais"},{value:"es",label:"Espa\xf1ol"},{value:"pt-br",label:"Portugu\xeas"},{value:"zh-cn",label:"\u7b80\u4f53\u4e2d\u6587"},{value:"he",label:"\u05e2\u05d1\u05e8\u05d9\u05ea"}]}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onLanguageSelect",value:function(e){var t=e.value;this.settingsService.changeSetting("language",t)}},{key:"onThemeSelect",value:function(e){var t=e.value;this.settingsService.changeSetting("theme",t)}},{key:"onAutoNightModeToggle",value:function(e){var t=e.checked;this.settingsService.changeSetting("autoNightMode",t)}},{key:"onStickyHeaderToggle",value:function(e){var t=e.checked;this.settingsService.changeSetting("stickyHeader",t)}},{key:"onPageAnimationsToggle",value:function(e){var t=e.checked;this.settingsService.changeSetting("pageAnimations",t)}},{key:"onElementsAnimationsToggle",value:function(e){var t=e.checked;this.settingsService.changeSetting("elementsAnimations",t)}}]),e}()).\u0275fac=function(e){return new(e||Me)(b.Mb(me.a))},Me.\u0275cmp=b.Gb({type:Me,selectors:[["aula-planeta-settings"]],decls:9,vars:6,consts:[["role","region",1,"container"],[1,"row"],[1,"col-sm-12"],[4,"ngIf"],[1,"col-md-6","group",3,"ngClass"],[1,"icon-form-field"],["color","accent","aria-label","Idiomas"],["icon","language","color","accent"],["name","language","panelClass","cdkSelect",3,"aria-label","placeholder","ngModel","selectionChange"],[4,"ngFor","ngForOf"],["color","accent","aria-label","Menu"],["icon","bars","color","accent"],[3,"aria-label","checked","change"],["color","accent","aria-label","Temas"],["icon","paint-brush","color","accent"],["name","themes","panelClass","cdkSelect",3,"aria-label","placeholder","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["color","accent","aria-label","Modo noche"],["icon","lightbulb","color","accent"],["color","accent"],["color","accent","aria-label","Animaci\xf3n a pantalla completa"],["icon","window-maximize"],["aria-label","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled","",4,"ngIf"],[3,"aria-label","checked","change",4,"ngIf"],["color","accent","aria-label","Paginaci\xf3n deslizante"],["icon","stream","color","accent"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],[3,"value"],["aria-label","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled",""]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"h1"),b.Bc(4),b.ec(5,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Nb(6,"br"),b.Ac(7,Re,64,54,"ng-container",3),b.ec(8,"async"),b.Rb()),2&e&&(b.Ab(4),b.Cc(b.fc(5,2,"aula-planeta.settings.title")),b.Ab(3),b.jc("ngIf",b.fc(8,4,t.settingsService.settings$)))},directives:[o.k,o.i,be.a,fe.a,q.c,g.a,k.j,k.m,o.j,q.g,pe.a,h.l,de.a],pipes:[f.c,o.b],styles:[".container[_ngcontent-%COMP%]{margin-top:1.25em}h1[_ngcontent-%COMP%]{margin:0 0 1.25em}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-transform:uppercase}h2[_ngcontent-%COMP%]{margin:0 0 .625em}.group[_ngcontent-%COMP%]{margin:0 0 2.5em}.icon-form-field[_ngcontent-%COMP%]{position:relative;display:flex;height:4.09375em;align-items:center}.icon-form-field[_ngcontent-%COMP%]   mat-placeholder[_ngcontent-%COMP%]{flex:2 1 auto}mat-icon[_ngcontent-%COMP%]{margin:0 .375em .375em 0;font-size:1.25em}mat-form-field[_ngcontent-%COMP%]{flex:1 0 auto}"]}),Me),Pe=((Oe=function(){function e(t,n){a(this,e),this.userManagementServiceUser=t,this.authManagementService=n,this.destroy$=new u.a}return r(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"updateTutorUser",value:function(e,t){this.userManagementServiceUser.updateTutorUser(e,t).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe()}},{key:"updateDatosCurrentUser",value:function(e){var t=this;this.authManagementService.currentUser.google?this.userManagementServiceUser.updateUser(e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(e){t.authManagementService.refreshToken().pipe(Object(w.a)(1),Object(x.a)(t.destroy$)).subscribe()})):e.img?this.userManagementServiceUser.uploadImgUser(e,e.img).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(a){e.img=a.nombreArchivo,t.userManagementServiceUser.updateUser(e).pipe(Object(w.a)(1),Object(x.a)(t.destroy$)).subscribe((function(e){t.authManagementService.refreshToken().pipe(Object(w.a)(1),Object(x.a)(t.destroy$)).subscribe()}))})):this.userManagementServiceUser.updateUser(e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe((function(e){t.authManagementService.refreshToken().pipe(Object(w.a)(1),Object(x.a)(t.destroy$)).subscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||Oe)(b.Wb(B),b.Wb(m.b))},Oe.\u0275prov=b.Ib({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe),we=i("+Tre"),xe=i("zmEM"),De=((ke=function(){function e(){a(this,e),this.fileDrop=new b.o,this.preventBodyDrop=!0,this.active=!1}return r(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.active=!1;var t=e.dataTransfer;if(t.items){var a;"file"===t.items[0].kind&&(a=t.items[0].getAsFile()),t.items.clear(),this.fileDrop.emit(a)}else{var n=t.files;t.clearData();var r=Array.from(n);this.fileDrop.emit(r[0])}}},{key:"onDragOver",value:function(e){e.stopPropagation(),e.preventDefault(),this.active=!0}},{key:"onDragLeave",value:function(e){this.active=!1}},{key:"onBodyDragOver",value:function(e){this.preventBodyDrop&&(e.preventDefault(),e.stopPropagation())}},{key:"onBodyDrop",value:function(e){this.preventBodyDrop&&e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||ke)},ke.\u0275dir=b.Hb({type:ke,selectors:[["","dropZone",""]],hostVars:2,hostBindings:function(e,t){1&e&&b.Zb("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))("dragover",(function(e){return t.onBodyDragOver(e)}),!1,b.pc)("drop",(function(e){return t.onBodyDrop(e)}),!1,b.pc),2&e&&b.Eb("drop-zone-active",t.active)},inputs:{preventBodyDrop:"preventBodyDrop"},outputs:{fileDrop:"dropZone"}}),ke),Ie=i("e4iD"),Ne=((je=function(){function e(t){a(this,e),this.sanitizer=t}return r(e,[{key:"transform",value:function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}]),e}()).\u0275fac=function(e){return new(e||je)(b.Mb(Ie.b))},je.\u0275pipe=b.Lb({name:"safe",type:je,pure:!0}),je),_e=function(e){return{minlength:e}};function Be(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,_e,a.form.get("firstName").errors.minlength.requiredLength))," ")}}function Ee(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Ue(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,_e,a.form.get("lastName").errors.minlength.requiredLength))," ")}}function $e(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Fe(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,_e,a.form.get("email").errors.minlength.requiredLength))," ")}}function qe(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Le(e,t){if(1&e){var a=b.Tb();b.Sb(0,"div",10),b.Sb(1,"div",18),b.Zb("dropZone",(function(e){return b.rc(a),b.dc().onDrop(e)}))("click",(function(){return b.rc(a),b.oc(7).click()})),b.Sb(2,"div",19),b.Sb(3,"p"),b.Bc(4),b.ec(5,"translate"),b.Rb(),b.Sb(6,"input",20,21),b.Zb("change",(function(e){return b.rc(a),b.dc().onDrop(e.target.files[0])})),b.Rb(),b.Sb(8,"button",22),b.Bc(9),b.ec(10,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.Ab(4),b.Cc(b.fc(5,2,"aula-planeta.perfil.datos.dropzone")),b.Ab(5),b.Cc(b.fc(10,4,"aula-planeta.perfil.datos.select")))}var Te,Ze=((Te=function(){function e(t,n,r,i){a(this,e),this.userManagementService=t,this.perfilService=n,this.fb=r,this.authManagementService=i,this.environment=D.a,this.img="",this.fileObj="",this.progress=0,this.destroy$=new u.a,this.routeAnimationsElements=m.d}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({uuid:"",email:["",[k.o.required,k.o.minLength(5)]],password:["",[]],firstName:["",[k.o.required,k.o.minLength(5)]],lastName:["",[k.o.required,k.o.minLength(5)]],role:[[],[k.o.required]],terminos:[!1,[k.o.required]],img:[""]}),this.authManagementService.currentUser$.pipe(Object(x.a)(this.destroy$)).subscribe((function(t){if(t){var a=t.role.map((function(e){return e._id}));e.img=t.google?t.img:"".concat(D.a.apiUrl,"/upload/user/").concat(t.img),e.form.patchValue(Object.assign(Object.assign({},t),{img:e.img,role:a}))}}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.getRawValue();delete e.terminos,e.img=this.file,this.perfilService.updateDatosCurrentUser(e)}}},{key:"onDrop",value:function(e){this.file=e;var t=URL.createObjectURL(this.file);this.form.patchValue({img:t}),this.form.get("img").updateValueAndValidity()}}]),e}()).\u0275fac=function(e){return new(e||Te)(b.Mb(B),b.Mb(Pe),b.Mb(k.c),b.Mb(m.b))},Te.\u0275cmp=b.Gb({type:Te,selectors:[["aula-planeta-datos"]],decls:50,vars:40,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","firstName",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"placeholder"],["matInput","","formControlName","email",3,"placeholder"],[1,"row"],["class","col-md-2 p-0",4,"ngIf"],[1,"col-md-2","p-0"],[1,"profile"],["alt","",3,"src"],[1,"terminos"],["id","terminos","type","checkbox","id","cb","ngControl","cb","formControlName","terminos","required",""],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"fileupload",3,"dropZone","click"],[1,"ddinfo"],["type","file","name","img","hidden","","multiple","",3,"change"],["fileField",""],["role","button","mat-raised-button","","color","primary","mat-button",""]],template:function(e,t){1&e&&(b.Sb(0,"h3",0),b.Bc(1),b.ec(2,"translate"),b.Rb(),b.Sb(3,"form",1),b.Zb("ngSubmit",(function(){return t.onSubmit()})),b.Sb(4,"fieldset"),b.Sb(5,"div",2),b.Sb(6,"div",3),b.Sb(7,"mat-form-field"),b.Nb(8,"input",4),b.ec(9,"translate"),b.Ac(10,Be,3,6,"mat-error",5),b.Ac(11,Ee,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",2),b.Sb(13,"div",3),b.Sb(14,"mat-form-field"),b.Nb(15,"input",6),b.ec(16,"translate"),b.Ac(17,Ue,3,6,"mat-error",5),b.Ac(18,$e,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(19,"div",2),b.Sb(20,"div",3),b.Sb(21,"mat-form-field"),b.Nb(22,"input",7),b.ec(23,"translate"),b.Ac(24,Fe,3,6,"mat-error",5),b.Ac(25,qe,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(26,"div",8),b.Ac(27,Le,11,6,"div",9),b.Sb(28,"div",10),b.Sb(29,"div",11),b.Nb(30,"img",12),b.ec(31,"safe"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(32,"div",13),b.Sb(33,"p"),b.Bc(34),b.ec(35,"translate"),b.Rb(),b.Sb(36,"p"),b.Bc(37),b.ec(38,"translate"),b.Rb(),b.Sb(39,"mat-checkbox",14),b.Bc(40),b.ec(41,"translate"),b.Rb(),b.Rb(),b.Nb(42,"mat-divider"),b.Sb(43,"div",15),b.Sb(44,"button",16),b.Bc(45),b.ec(46,"translate"),b.Rb(),b.Sb(47,"button",17),b.Bc(48),b.ec(49,"translate"),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(1),b.Cc(b.fc(2,19,"aula-planeta.perfil.datos.subtitulo")),b.Ab(2),b.jc("formGroup",t.form),b.Ab(5),b.jc("placeholder",b.fc(9,21,"aula-planeta.examples.simple-state-management.name")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("firstName").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("firstName").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(16,23,"aula-planeta.examples.simple-state-management.surname")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("lastName").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("lastName").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(23,25,"aula-planeta.examples.simple-state-management.email")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("email").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("email").hasError("required")),b.Ab(2),b.jc("ngIf",!t.authManagementService.currentUser.google),b.Ab(3),b.jc("src",b.gc(31,27,t.form.get("img").value,"url"),b.tc),b.Ab(4),b.Cc(b.fc(35,30,"aula-planeta.perfil.datos.condiciones1")),b.Ab(3),b.Cc(b.fc(38,32,"aula-planeta.perfil.datos.condiciones1")),b.Ab(3),b.Cc(b.fc(41,34,"aula-planeta.perfil.datos.condiciones3")),b.Ab(5),b.Cc(b.fc(46,36,"aula-planeta.examples.form.reset")),b.Ab(2),b.jc("disabled",!t.form.valid),b.Ab(1),b.Dc(" ",b.fc(49,38,"aula-planeta.examples.form.save"),""))},directives:[k.p,k.k,k.e,q.c,L.a,k.b,k.j,k.d,o.k,we.a,we.c,xe.a,F.a,q.b,De],pipes:[f.c,Ne],styles:['.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}.terminos[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.terminos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em;max-width:600px}.terminos[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin:2em 1em}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:1em}progress[_ngcontent-%COMP%]{margin-bottom:30px}.fileupload[_ngcontent-%COMP%]{background:#ebe9e9;height:300px;width:100%}.ddinfo[_ngcontent-%COMP%]{display:block;text-align:center;padding-top:130px;color:#a0a1a2}.profile[_ngcontent-%COMP%]{width:305px;height:305px;overflow:hidden;display:inline-block}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.remove[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;position:relative;top:-2px}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:100%;min-width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}@media (max-width:767px){.container[_ngcontent-%COMP%]{width:280px}}'],changeDetection:0}),Te),Ge=i("0aut"),Ve=function(e){return{minlength:e}};function ze(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,Ve,a.form.get("firstName").errors.minlength.requiredLength))," ")}}function He(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Qe(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,Ve,a.form.get("lastName").errors.minlength.requiredLength))," ")}}function Ke(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function We(e,t){if(1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e){var a=b.dc();b.Ab(1),b.Dc(" ",b.gc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength",b.lc(4,Ve,a.form.get("email").errors.minlength.requiredLength))," ")}}function Je(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function Xe(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength")," "))}function Ye(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function et(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.minlength")," "))}function tt(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1),b.ec(2,"translate"),b.Rb()),2&e&&(b.Ab(1),b.Dc(" ",b.fc(2,1,"aula-planeta.examples.simple-state-management.validator.required")," "))}function at(e,t){1&e&&(b.Sb(0,"mat-error"),b.Bc(1," Las contrase\xf1as no "),b.Rb())}var nt,rt,it,ot,ct,st,lt=[{path:"",pathMatch:"full",redirectTo:"/perfil/datos"},{path:"",component:M,data:{title:"aula-planeta.menu.perfil"},children:[{path:"datos",component:Ze},{path:"tutores",component:(ot=function(){function e(t,n,r,i){a(this,e),this.userManagementService=t,this.perfilService=n,this.fb=r,this.authManagementService=i,this.destroy$=new u.a,this.routeAnimationsElements=Ge.a}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({uuid:"",email:["",[k.o.required,k.o.minLength(5)]],firstName:["",[k.o.required,k.o.minLength(5)]],lastName:["",[k.o.required,k.o.minLength(5)]],terminos:[!1,[k.o.required]]}),this.authManagementService.currentUser$.pipe(Object(x.a)(this.destroy$)).subscribe((function(t){if(t){var a=t.tutor?t.tutor:{email:"perico@palotes.es",firstName:"Perico",lastName:"Palotes"},n=a.email,r=a.firstName,i=a.lastName;e.form.patchValue({email:n,firstName:r,lastName:i})}}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.getRawValue();this.perfilService.updateTutorUser(this.authManagementService.currentUser,e)}}}]),e}(),ot.\u0275fac=function(e){return new(e||ot)(b.Mb(B),b.Mb(Pe),b.Mb(k.c),b.Mb(m.b))},ot.\u0275cmp=b.Gb({type:ot,selectors:[["aula-planeta-tutores"]],decls:38,vars:29,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","firstName",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"placeholder"],["matInput","","formControlName","email",3,"placeholder"],[1,"terminos"],["id","terminos","type","checkbox","id","cb","ngControl","cb","formControlName","terminos","required",""],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(b.Sb(0,"h3",0),b.Bc(1),b.ec(2,"translate"),b.Rb(),b.Sb(3,"form",1),b.Zb("ngSubmit",(function(){return t.onSubmit()})),b.Sb(4,"fieldset"),b.Sb(5,"div",2),b.Sb(6,"div",3),b.Sb(7,"mat-form-field"),b.Nb(8,"input",4),b.ec(9,"translate"),b.Ac(10,ze,3,6,"mat-error",5),b.Ac(11,He,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",2),b.Sb(13,"div",3),b.Sb(14,"mat-form-field"),b.Nb(15,"input",6),b.ec(16,"translate"),b.Ac(17,Qe,3,6,"mat-error",5),b.Ac(18,Ke,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(19,"div",2),b.Sb(20,"div",3),b.Sb(21,"mat-form-field"),b.Nb(22,"input",7),b.ec(23,"translate"),b.Ac(24,We,3,6,"mat-error",5),b.Ac(25,Je,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(26,"div",8),b.Sb(27,"mat-checkbox",9),b.Bc(28),b.ec(29,"translate"),b.Rb(),b.Rb(),b.Nb(30,"mat-divider"),b.Sb(31,"div",10),b.Sb(32,"button",11),b.Bc(33),b.ec(34,"translate"),b.Rb(),b.Sb(35,"button",12),b.Bc(36),b.ec(37,"translate"),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(1),b.Cc(b.fc(2,15,"aula-planeta.perfil.tutores.subtitulo")),b.Ab(2),b.jc("formGroup",t.form),b.Ab(5),b.jc("placeholder",b.fc(9,17,"aula-planeta.examples.simple-state-management.name")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("firstName").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("firstName").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(16,19,"aula-planeta.examples.simple-state-management.surname")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("lastName").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("lastName").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(23,21,"aula-planeta.examples.simple-state-management.email")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("email").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("email").hasError("required")),b.Ab(3),b.Cc(b.fc(29,23,"aula-planeta.perfil.datos.condiciones3")),b.Ab(5),b.Cc(b.fc(34,25,"aula-planeta.examples.form.reset")),b.Ab(2),b.jc("disabled",!t.form.valid),b.Ab(1),b.Dc(" ",b.fc(37,27,"aula-planeta.examples.form.save"),""))},directives:[k.p,k.k,k.e,q.c,L.a,k.b,k.j,k.d,o.k,we.a,we.c,xe.a,F.a,q.b],pipes:[f.c],styles:[".main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 1.25em}mat-card[_ngcontent-%COMP%]{margin:0 0 1.25em;display:flex}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{flex:1 0 auto}form[_ngcontent-%COMP%]{margin:1.25em 0}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1.25em .625em 0 0}.terminos[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.terminos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em;max-width:600px}.terminos[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin:2em 1em}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:1em}@media (max-width:767px){.container[_ngcontent-%COMP%]{width:280px}}"],changeDetection:0}),ot)},{path:"contrasena",component:(it=function(){function e(t,n,r){a(this,e),this.userManagementService=t,this.fb=n,this.authManagementService=r,this.destroy$=new u.a,this.routeAnimationsElements=Ge.a}return r(e,[{key:"ngOnInit",value:function(){this.form=this.fb.group({oldPassword:["",[k.o.required,k.o.minLength(6)]],newPassword:["",[k.o.required,k.o.minLength(6)]],repeatNewPassword:["",[k.o.required,k.o.minLength(6)]]},{validator:this.passwordMatchValidator})}},{key:"passwordMatchValidator",value:function(e){return e.controls.newPassword.value===e.controls.repeatNewPassword.value?null:{mismatch:!0}}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.getRawValue();this.authManagementService.changePassword(this.authManagementService.currentUser,e).pipe(Object(w.a)(1),Object(x.a)(this.destroy$)).subscribe()}}}]),e}(),it.\u0275fac=function(e){return new(e||it)(b.Mb(B),b.Mb(k.c),b.Mb(m.b))},it.\u0275cmp=b.Gb({type:it,selectors:[["aula-planeta-contrasena"]],decls:33,vars:25,consts:[[1,"titulo"],["role","form",3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-md-4"],["matInput","","formControlName","oldPassword",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","newPassword",3,"placeholder"],["matInput","","formControlName","repeatNewPassword",3,"placeholder"],[1,"acciones"],["role","button","type","reset","mat-button",""],["role","button","type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(b.Sb(0,"h3",0),b.Bc(1),b.ec(2,"translate"),b.Rb(),b.Sb(3,"form",1),b.Zb("ngSubmit",(function(){return t.onSubmit()})),b.Sb(4,"fieldset"),b.Sb(5,"div",2),b.Sb(6,"div",3),b.Sb(7,"mat-form-field"),b.Nb(8,"input",4),b.ec(9,"translate"),b.Ac(10,Xe,3,3,"mat-error",5),b.Ac(11,Ye,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",2),b.Sb(13,"div",3),b.Sb(14,"mat-form-field"),b.Nb(15,"input",6),b.ec(16,"translate"),b.Ac(17,et,3,3,"mat-error",5),b.Ac(18,tt,3,3,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(19,"div",2),b.Sb(20,"div",3),b.Sb(21,"mat-form-field"),b.Nb(22,"input",7),b.ec(23,"translate"),b.Ac(24,at,2,0,"mat-error",5),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Nb(25,"mat-divider"),b.Sb(26,"div",8),b.Sb(27,"button",9),b.Bc(28),b.ec(29,"translate"),b.Rb(),b.Sb(30,"button",10),b.Bc(31),b.ec(32,"translate"),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Ab(1),b.Cc(b.fc(2,13,"aula-planeta.perfil.tutores.subtitulo")),b.Ab(2),b.jc("formGroup",t.form),b.Ab(5),b.jc("placeholder",b.fc(9,15,"aula-planeta.perfil.contrasena.old")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("oldPassword").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("oldPassword").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(16,17,"aula-planeta.perfil.contrasena.new")+"*"),b.Ab(2),b.jc("ngIf",t.form.get("newPassword").hasError("minlength")),b.Ab(1),b.jc("ngIf",t.form.get("newPassword").hasError("required")),b.Ab(4),b.jc("placeholder",b.fc(23,19,"aula-planeta.perfil.contrasena.confirm")+"*"),b.Ab(2),b.jc("ngIf",(null==t.form.errors?null:t.form.errors.mismatch)&&(t.form.controls.repeatNewPassword.dirty||t.form.controls.repeatNewPassword.touched)),b.Ab(4),b.Cc(b.fc(29,21,"aula-planeta.examples.form.reset")),b.Ab(2),b.jc("disabled",!t.form.valid),b.Ab(1),b.Dc(" ",b.fc(32,23,"aula-planeta.examples.form.save"),""))},directives:[k.p,k.k,k.e,q.c,L.a,k.b,k.j,k.d,o.k,xe.a,F.a,q.b],pipes:[f.c],styles:[""],changeDetection:0}),it)},{path:"activacion",component:(rt=function(){function e(){a(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}(),rt.\u0275fac=function(e){return new(e||rt)},rt.\u0275cmp=b.Gb({type:rt,selectors:[["aula-planeta-activacion"]],decls:2,vars:0,template:function(e,t){1&e&&(b.Sb(0,"p"),b.Bc(1,"activacion works!"),b.Rb())},styles:[""],changeDetection:0}),rt)},{path:"vincular",component:(nt=function(){function e(){a(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}(),nt.\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=b.Gb({type:nt,selectors:[["aula-planeta-vincular"]],decls:2,vars:0,template:function(e,t){1&e&&(b.Sb(0,"p"),b.Bc(1,"vincular works!"),b.Rb())},styles:[""],changeDetection:0}),nt)},{path:"users",component:ue},{path:"settings",component:Ce}]}],ut=((ct=function e(){a(this,e)}).\u0275mod=b.Kb({type:ct}),ct.\u0275inj=b.Jb({factory:function(e){return new(e||ct)},imports:[[l.k.forChild(lt)],l.k]}),ct),mt=i("2oKa"),bt=((st=function e(){a(this,e)}).\u0275mod=b.Kb({type:st}),st.\u0275inj=b.Jb({factory:function(e){return new(e||st)},providers:[B,Pe],imports:[[o.c,c.a,ut,s.a,mt.a]]}),st)}}])}();